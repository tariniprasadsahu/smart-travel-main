import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash-8b",
  systemInstruction:
    "Generate a travel plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with HotelName, Hotel Address, Price, Hotel Image URL, Geo Coordinates, Rating,  Descriptions and suggest itinerary with PlaceName, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, Rating, Time Travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40 ,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate a travel plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with HotelName, Hotel Address, Price, Hotel Image URL, Geo Coordinates, Rating,  Descriptions and suggest itinerary with PlaceName, Place Details, Place Image URL, Geo Coordinates, Ticket Pricing, Rating, Time Travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "hotelImageURL": "https://www.thelasvegasd.com/media/images/hotel/the-d-las-vegas-hotel-exterior.jpg",\n      "geoCoordinates": "36.1699° N, 115.1422° W",\n      "rating": 4.0,\n      "description": "A downtown hotel with a retro vibe, offering affordable rooms, a casino, and a rooftop pool."\n    },\n    {\n      "hotelName": "Golden Nugget Las Vegas",\n      "hotelAddress": "129 E Fremont Street, Las Vegas, NV 89101",\n      "price": "$60-$150 per night",\n      "hotelImageURL": "https://www.goldennugget.com/media/images/hotels/golden-nugget-las-vegas.jpg",\n      "geoCoordinates": "36.1694° N, 115.1420° W",\n      "rating": 4.5,\n      "description": "A historic hotel on Fremont Street with a lively casino, several restaurants, and a world-famous shark tank."\n    },\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$40-$80 per night",\n      "hotelImageURL": "https://www.circuscircus.com/media/images/hotel/circus-circus-hotel-exterior.jpg",\n      "geoCoordinates": "36.1166° N, 115.1662° W",\n      "rating": 3.5,\n      "description": "A budget-friendly hotel with a circus theme, a midway, and a large casino."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "plan": [\n        {\n          "time": "Morning (9:00 AM - 12:00 PM)",\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Walk down the pedestrian-friendly Fremont Street, enjoy the free light show, and visit some of the casinos.",\n          "placeImageURL": "https://www.fremontstreetexperience.com/wp-content/uploads/2021/07/fremont-street-experience-banner-4.jpg",\n          "geoCoordinates": "36.1699° N, 115.1422° W",\n          "ticketPricing": "Free",\n          "rating": 4.5\n        },\n        {\n          "time": "Afternoon (12:00 PM - 3:00 PM)",\n          "placeName": "The Mob Museum",\n          "placeDetails": "Learn about the history of organized crime in Las Vegas at this interactive museum.",\n          "placeImageURL": "https://www.themobmuseum.org/wp-content/uploads/2020/04/Exterior-Mob-Museum-4-1024x683.jpg",\n          "geoCoordinates": "36.1682° N, 115.1433° W",\n          "ticketPricing": "$25-$30",\n          "rating": 4.0\n        },\n        {\n          "time": "Evening (3:00 PM - 6:00 PM)",\n          "placeName": "Arts District",\n          "placeDetails": "Explore the vibrant Arts District with its art galleries, murals, and unique shops.",\n          "placeImageURL": "https://www.visitlasvegas.com/media/1072/arts-district.jpg",\n          "geoCoordinates": "36.1609° N, 115.1411° W",\n          "ticketPricing": "Free",\n          "rating": 4.0\n        },\n        {\n          "time": "Late Evening (6:00 PM - 9:00 PM)",\n          "placeName": "Dinner at a local restaurant in Downtown Las Vegas",\n          "placeDetails": "Enjoy a casual and affordable dinner at a local restaurant in Downtown Las Vegas.",\n          "placeImageURL": "https://www.lasvegas.com/content/dam/lasvegas/images/hero/hero-Downtown-Las-Vegas.jpg",\n          "geoCoordinates": "36.1699° N, 115.1422° W",\n          "ticketPricing": "Varies",\n          "rating": 4.0\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "plan": [\n        {\n          "time": "Morning (9:00 AM - 12:00 PM)",\n          "placeName": "Red Rock Canyon National Conservation Area",\n          "placeDetails": "Take a scenic drive through the Red Rock Canyon National Conservation Area and hike to one of the many trails.",\n          "placeImageURL": "https://www.nps.gov/redr/planyourvisit/images/red-rock-canyon-national-conservation-area-2.jpg",\n          "geoCoordinates": "36.1562° N, 115.1512° W",\n          "ticketPricing": "$15 per vehicle",\n          "rating": 4.5\n        },\n        {\n          "time": "Afternoon (12:00 PM - 3:00 PM)",\n          "placeName": "Lunch at a local restaurant in Summerlin",\n          "placeDetails": "Grab a quick and affordable lunch at a local restaurant in the Summerlin area.",\n          "placeImageURL": "https://www.visitlasvegas.com/media/1104/summerlin.jpg",\n          "geoCoordinates": "36.1628° N, 115.1908° W",\n          "ticketPricing": "Varies",\n          "rating": 4.0\n        },\n        {\n          "time": "Evening (3:00 PM - 6:00 PM)",\n          "placeName": "Hoover Dam",\n          "placeDetails": "Take a day trip to Hoover Dam and learn about its history and construction.",\n          "placeImageURL": "https://www.nps.gov/hdam/learn/historyculture/images/hoover-dam-1.jpg",\n          "geoCoordinates": "36.0052° N, 114.9980° W",\n          "ticketPricing": "Free for the dam, tours are additional cost",\n          "rating": 4.5\n        },\n        {\n          "time": "Late Evening (6:00 PM - 9:00 PM)",\n          "placeName": "Dinner at a restaurant in Henderson",\n          "placeDetails": "Enjoy a casual dinner at a restaurant in the Henderson area.",\n          "placeImageURL": "https://www.visitlasvegas.com/media/1108/henderson.jpg",\n          "geoCoordinates": "36.0447° N, 115.0775° W",\n          "ticketPricing": "Varies",\n          "rating": 4.0\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "plan": [\n        {\n          "time": "Morning (9:00 AM - 12:00 PM)",\n          "placeName": "Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "Admire the stunning floral displays and themed exhibitions at the Bellagio Conservatory.",\n          "placeImageURL": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/images/conservatory/conservatory-hero-2.jpg",\n          "geoCoordinates": "36.1180° N, 115.1725° W",\n          "ticketPricing": "Free",\n          "rating": 4.5\n        },\n        {\n          "time": "Afternoon (12:00 PM - 3:00 PM)",\n          "placeName": "Fountains of Bellagio",\n          "placeDetails": "Watch the spectacular synchronized water and music show at the Fountains of Bellagio.",\n          "placeImageURL": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/images/fountains/fountains-hero-2.jpg",\n          "geoCoordinates": "36.1179° N, 115.1726° W",\n          "ticketPricing": "Free",\n          "rating": 4.5\n        },\n        {\n          "time": "Evening (3:00 PM - 6:00 PM)",\n          "placeName": "The LINQ Promenade",\n          "placeDetails": "Enjoy a walk down the LINQ Promenade, a vibrant outdoor shopping and dining area with the High Roller observation wheel.",\n          "placeImageURL": "https://www.thelinq.com/media/images/linq-promenade/linq-promenade-hero.jpg",\n          "geoCoordinates": "36.1268° N, 115.1700° W",\n          "ticketPricing": "Varies",\n          "rating": 4.0\n        },\n        {\n          "time": "Late Evening (6:00 PM - 9:00 PM)",\n          "placeName": "Dinner at a buffet or casual restaurant on the Strip",\n          "placeDetails": "Enjoy a delicious and affordable dinner at a buffet or casual restaurant on the Las Vegas Strip.",\n          "placeImageURL": "https://www.visitlasvegas.com/media/1056/las-vegas-strip.jpg",\n          "geoCoordinates": "36.1146° N, 115.1730° W",\n          "ticketPricing": "Varies",\n          "rating": 4.0\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Please note:**\n\n* Prices are approximate and can vary depending on the time of year and availability.\n* This itinerary is just a suggestion and can be customized to your interests and preferences.\n* Consider checking the websites of the hotels and attractions for the most up-to-date information and pricing.\n* Remember to factor in transportation costs and parking fees.\n* Always plan ahead and make reservations for popular attractions and restaurants, especially during peak season.\n\n**Enjoy your trip to Las Vegas!**',
        },
      ],
    },
  ],
});
